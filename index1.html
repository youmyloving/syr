<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–°—ã—Ä–æ–º–∞–Ω–∏—è ‚Äî –∑–∞–∫–∞–∑</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    :root {
      --brand-from:#82571c;
      --brand-to:#bd9952;
      --brand-gradient:linear-gradient(135deg,#82571c,#bd9952);

      --bg-color:#F7F0E3;
      --card-bg:#FFFFFF;
      --secondary-bg:#FFF7E6;
      --header-bg:rgba(255,248,236,0.96);
      --text-color:#251F14;
      --hint-color:#8A7F6A;
      --border-color:#E2D4BD;
      --danger:#E74C3C;
      --success:#2E8B57;

      --radius-lg:14px;
      --radius-md:10px;
      --shadow-soft:0 8px 24px rgba(0,0,0,0.06);

      --font-main:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
    }

    * {
      box-sizing:border-box;
    }

    body {
      margin:0;
      font-family:var(--font-main);
      background:var(--bg-color);
      color:var(--text-color);
      -webkit-font-smoothing:antialiased;
    }

    #app {
      max-width:900px;
      margin:0 auto;
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    header {
      position:sticky;
      top:0;
      z-index:50;
      padding:10px 12px 8px;
      background:var(--header-bg);
      backdrop-filter:blur(12px);
      border-bottom:1px solid var(--border-color);
    }

    .top-row {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:8px;
    }

    #user-profile {
      display:flex;
      align-items:center;
      gap:8px;
    }

    .user-avatar {
      width:32px;
      height:32px;
      border-radius:50%;
      background:var(--secondary-bg);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      font-weight:600;
      font-size:15px;
    }

    .user-avatar img {
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .user-name {
      font-size:14px;
      font-weight:600;
    }

    .header-title {
      font-weight:700;
      font-size:18px;
      text-align:right;
      background:var(--brand-gradient);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }

    .search-row {
      display:flex;
      gap:8px;
      margin-bottom:8px;
    }

    .search-row input {
      flex:1;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--border-color);
      font-size:14px;
      background:#FFFDF8;
    }

    .filters-row {
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      align-items:center;
      margin-bottom:6px;
    }

    .filters-row select {
      flex:1;
      min-width:120px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border-color);
      font-size:13px;
      background:#FFFDF8;
    }

    .chip {
      display:inline-flex;
      align-items:center;
      gap:4px;
      padding:4px 9px;
      border-radius:999px;
      border:1px solid var(--border-color);
      background:rgba(255,255,255,0.9);
      font-size:11px;
      white-space:nowrap;
    }

    .chip input {
      margin:0;
    }

    #favorites-bar {
      display:none;
      margin-top:4px;
      gap:6px;
      flex-wrap:nowrap;
      overflow-x:auto;
      padding-bottom:3px;
    }

    .fav-chip {
      border-radius:999px;
      border:none;
      padding:4px 10px;
      font-size:11px;
      background:var(--secondary-bg);
      white-space:nowrap;
    }

    main {
      flex:1;
      padding:10px 10px 90px;
    }

    .section {
      margin-bottom:18px;
    }

    .section-title {
      display:flex;
      align-items:center;
      margin:4px 4px 8px;
    }

    .section-title.small {
      margin-top:10px;
    }

    .section-title::before {
      content:'';
      width:4px;
      height:18px;
      border-radius:999px;
      background:var(--brand-gradient);
      margin-right:6px;
    }

    .section-pill {
      display:inline-flex;
      align-items:center;
      padding:4px 10px;
      border-radius:999px;
      background:#FFF3DF;
      font-size:12px;
      font-weight:600;
      letter-spacing:0.02em;
      text-transform:uppercase;
    }

    .product-grid {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
      gap:10px;
    }

    .product-card {
      background:var(--card-bg);
      border-radius:var(--radius-lg);
      padding:10px;
      box-shadow:var(--shadow-soft);
      display:flex;
      flex-direction:column;
      gap:4px;
      cursor:pointer;
      position:relative;
    }

    .product-thumb {
      width:100%;
      height:110px;
      border-radius:var(--radius-md);
      overflow:hidden;
      background:#F2E8D7;
      margin-bottom:4px;
    }

    .product-thumb img {
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .product-card .name {
      font-size:14px;
      font-weight:600;
      margin-bottom:2px;
    }

    .product-row {
      display:flex;
      align-items:center;
      gap:6px;
      margin-top:2px;
    }

    .price {
      font-size:13px;
      font-weight:600;
    }

    .badge-piece {
      font-size:10px;
      padding:2px 6px;
      border-radius:999px;
      background:#FFF3DF;
      color:#6A5020;
      margin-left:auto;
    }

    .fav-btn {
      border:none;
      background:transparent;
      font-size:16px;
      padding:0 2px;
      cursor:pointer;
    }

    .fav-btn.active {
      color:#e53935;
    }

    .empty {
      text-align:center;
      margin-top:40px;
      color:var(--hint-color);
    }

    .cart-footer {
      position:fixed;
      left:50%;
      transform:translateX(-50%);
      bottom:10px;
      z-index:40;
      width:100%;
      max-width:900px;
      padding:0 10px;
      pointer-events:none;
    }

    .cart-footer-inner {
      background:#FFF7E6;
      border-radius:999px;
      box-shadow:0 10px 30px rgba(0,0,0,0.12);
      padding:6px;
      pointer-events:auto;
    }

    #open-cart-btn {
      width:100%;
      border:none;
      padding:10px 14px;
      border-radius:999px;
      font-size:14px;
      font-weight:600;
      color:#fff;
      background-image:var(--brand-gradient);
      cursor:pointer;
    }

    #open-cart-btn:disabled {
      opacity:0.5;
      cursor:default;
    }

    .btn {
      border-radius:999px;
      border:none;
      padding:10px 16px;
      font-size:14px;
      font-weight:600;
      cursor:pointer;
    }

    .btn-primary {
      width:100%;
      color:#fff;
      background-image:var(--brand-gradient);
      box-shadow:0 8px 20px rgba(130,87,28,0.35);
    }

    .btn-primary:disabled {
      opacity:0.65;
      box-shadow:none;
      cursor:default;
    }

    dialog {
      border:none;
      padding:0;
      border-radius:18px;
      max-width:480px;
      width:92%;
      box-shadow:0 18px 40px rgba(0,0,0,0.35);
      animation:pop-in .18s ease-out;
      position:relative;
      z-index:1000;
    }

    dialog::backdrop {
      background:rgba(0,0,0,0.45);
      backdrop-filter:blur(4px);
      z-index:999;
    }

    .modal-header {
      padding:10px 14px;
      border-bottom:1px solid var(--border-color);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background:#FFFDF8;
    }

    .modal-header h2 {
      margin:0;
      font-size:15px;
    }

    .modal-close {
      border:none;
      background:transparent;
      font-size:20px;
      line-height:1;
      cursor:pointer;
      padding:2px 4px;
    }

    .modal-body {
      padding:12px 14px 14px;
      max-height:70vh;
      overflow-y:auto;
      background:#FFFBF3;
    }

    .product-desc {
      font-size:13px;
      color:var(--hint-color);
      margin-bottom:10px;
    }

    .form-group {
      margin-bottom:10px;
    }

    .form-group label {
      display:block;
      font-size:12px;
      font-weight:600;
      margin-bottom:4px;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width:100%;
      border-radius:10px;
      border:1px solid var(--border-color);
      padding:8px 10px;
      font-size:14px;
      background:#FFFDF8;
      resize:none;
    }

    .form-group textarea {
      font-size:13px;
    }

    .notice {
      font-size:11px;
      color:var(--hint-color);
      margin-top:4px;
    }

    .notice.small {
      font-size:10px;
    }

    .price-display {
      font-size:18px;
      font-weight:700;
      margin:6px 0 10px;
    }

    .custom-weight-block {
      margin-top:4px;
    }

    .custom-weight-header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }

    .custom-weight-toggle {
      display:flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      color:var(--hint-color);
      cursor:pointer;
    }

    .custom-weight-toggle input {
      margin:0;
    }

    .custom-weight-input-wrap {
      display:flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:10px;
      border:1px dashed var(--border-color);
      background:#F5ECDA;
      margin-top:6px;
      opacity:0.7;
    }

    .custom-weight-input-wrap.enabled {
      border-style:solid;
      background:#FFFDF8;
      opacity:1;
    }

    .custom-weight-input-wrap input {
      border:none;
      background:transparent;
      padding:0;
      font-size:16px;
      flex:1;
      min-width:0;
    }

    .custom-weight-input-wrap input:disabled {
      color:var(--hint-color);
    }

    .custom-weight-unit {
      font-size:13px;
      color:var(--hint-color);
    }

    .piece-badge {
      font-size:11px;
      color:var(--hint-color);
      margin-top:3px;
    }

    .cart-item {
      display:flex;
      justify-content:space-between;
      gap:10px;
      padding:8px 0;
      border-bottom:1px solid rgba(0,0,0,0.04);
    }

    .cart-item-name {
      font-size:13px;
      font-weight:600;
    }

    .cart-item-variant {
      font-size:12px;
      color:var(--hint-color);
      margin-top:2px;
    }

    .cart-item-price {
      font-size:13px;
      font-weight:600;
      margin-top:2px;
    }

    .cart-item-controls {
      display:flex;
      align-items:center;
    }

    .qty-control {
      display:inline-flex;
      align-items:center;
      border-radius:999px;
      border:1px solid var(--border-color);
      overflow:hidden;
      background:#FFFDF8;
    }

    .qty-control button {
      border:none;
      background:transparent;
      padding:4px 8px;
      font-size:16px;
      cursor:pointer;
    }

    .qty-control span {
      min-width:24px;
      text-align:center;
      font-size:13px;
    }

    .cart-summary {
      margin-top:10px;
      padding-top:8px;
      border-top:1px dashed var(--border-color);
      font-size:14px;
      font-weight:600;
    }

    .promo-block {
      margin-top:8px;
      font-weight:400;
    }

    .promo-block input {
      margin-top:4px;
    }

    .discount-hint {
      font-size:11px;
      color:var(--success);
      margin-top:2px;
    }

    .weighing-note {
      margin-top:8px;
      font-size:11px;
      color:var(--hint-color);
    }

    .error-text {
      font-size:12px;
      color:var(--danger);
      margin-top:4px;
    }

    @keyframes pop-in {
      from { transform:translateY(10px) scale(0.98); opacity:0; }
      to   { transform:translateY(0) scale(1); opacity:1; }
    }

    @media (max-width:480px) {
      .product-thumb { height:100px; }
      .modal-body { padding:10px 12px 12px; }
      .price-display { font-size:17px; }
      header { padding-left:8px; padding-right:8px; }
      main { padding-left:6px; padding-right:6px; }
    }
  </style>
</head>
<body>
  <div id="app">
    <header>
      <div class="top-row">
        <div id="user-profile">
          <div class="user-avatar"><span>–°</span></div>
          <div class="user-name">–°—ã—Ä–æ–º–∞–Ω–∏—è</div>
        </div>
        <div class="header-title">–°—ã—Ä–æ–º–∞–Ω–∏—è</div>
      </div>

      <div class="search-row">
        <input id="search-input" type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." />
      </div>

      <div class="filters-row">
        <select id="category-filter">
          <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
        </select>

        <label class="chip">
          <input type="checkbox" id="only-cheese-checkbox" />
          —Ç–æ–ª—å–∫–æ —Å—ã—Ä—ã
        </label>

        <label class="chip">
          <input type="checkbox" id="only-fav-checkbox" />
          –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
        </label>
      </div>

      <div id="favorites-bar"></div>
    </header>

    <main id="main"></main>

    <div class="cart-footer">
      <div class="cart-footer-inner">
        <button id="open-cart-btn" disabled>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ —Ç–æ–≤–∞—Ä–∞ -->
  <dialog id="product-modal">
    <div class="modal-header">
      <h2 id="product-modal-title"></h2>
      <button class="modal-close" onclick="closeProductModal()">&times;</button>
    </div>
    <div class="modal-body">
      <div class="product-desc" id="product-modal-description"></div>

      <div class="form-group">
        <label for="product-variant-select">–í–µ—Å / –≤–∞—Ä–∏–∞–Ω—Ç</label>
        <select id="product-variant-select"></select>
        <div class="notice" id="variant-hint"></div>
        <div class="piece-badge" id="piece-badge" style="display:none"></div>
      </div>

      <div class="form-group custom-weight-block" id="custom-weight-block">
        <div class="custom-weight-header">
          <span>–°–≤–æ–π –≤–µ—Å</span>
          <label class="custom-weight-toggle">
            <input type="checkbox" id="custom-weight-checkbox" />
            <span>–£–∫–∞–∑–∞—Ç—å —Å–≤–æ–π –≤–µ—Å</span>
          </label>
        </div>
        <div class="custom-weight-input-wrap" id="custom-weight-input-wrap">
          <input type="number" id="product-custom-weight" min="1" step="1"
                 placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 202" disabled />
          <span class="custom-weight-unit">–≥</span>
        </div>
        <div class="notice small">
          –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ –ª—é–±–æ–π –≤–µ—Å –≤ –≥—Ä–∞–º–º–∞—Ö ‚Äî –º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–µ–º —Å—É–º–º—É,
          —Å–∫–∏–¥–∫–∏ –ø–æ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞–º —Ç–æ–∂–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è.
        </div>
      </div>

      <div class="form-group" id="flavor-group" style="display:none">
        <label for="product-flavor-select">–í–∫—É—Å</label>
        <select id="product-flavor-select"></select>
      </div>

      <div class="form-group">
        <label for="product-qty-input">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</label>
        <input type="number" id="product-qty-input" value="1" min="1" />
      </div>

      <div class="price-display" id="product-modal-price">0 ‚ÇΩ</div>
      <button class="btn btn-primary" id="add-to-cart-btn">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
    </div>
  </dialog>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
  <dialog id="cart-modal">
    <div class="modal-header">
      <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
      <button class="modal-close" onclick="closeCartModal()">&times;</button>
    </div>
    <div class="modal-body" id="cart-modal-body"></div>
  </dialog>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    (function(){
      const BACKEND = 'https://puzzlebot-webhook-handler1.onrender.com';
      const CURRENCY = 'RUB';
      const ROUND = Math.round;
      const DISCOUNT_THRESHOLDS = [
        { g:500,  rate:0.05 },
        { g:700,  rate:0.10 },
        { g:1000, rate:0.15 },
      ];
      const ONLY_CHEESE_FILTER_DEFAULT = false;
      const PAYLOAD_SCHEMA_VERSION = 'v2';
      const STORAGE_CART_KEY     = 'syromania-cart';
      const STORAGE_CHECKOUT_KEY = 'syromania-checkout';
      const STORAGE_FAV_KEY      = 'syromania-favorites';
      const DEFAULT_IMG = 'https://static.tildacdn.com/tild3134-3861-4539-a363-646133333238/__.webp';

      const fmtRub = (n)=> new Intl.NumberFormat('ru-RU',{maximumFractionDigits:0}).format(Math.round(n)) + ' ‚ÇΩ';

      const PROMO_CODES = {
        // –ø—Ä–∏–º–µ—Ä: 'SALE10': { type:'percent', value:10 }
      };

      const GROUPS = [
        { id:'brined',   title:'–†–∞—Å—Å–æ–ª—å–Ω—ã–µ —Å—ã—Ä—ã' },
        { id:'soft',     title:'–ú—è–≥–∫–∏–µ —Å—ã—Ä—ã' },
        { id:'hard',     title:'–¢–≤—ë—Ä–¥—ã–µ —Å—ã—Ä—ã' },
        { id:'rolls',    title:'–°—ã—Ä–Ω—ã–µ —Ä—É–ª–µ—Ç—ã' },
        { id:'dairy',    title:'–ú–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è' },
        { id:'sweets',   title:'–°–ª–∞–¥–æ—Å—Ç–∏' },
        { id:'bakery',   title:'–í—ã–ø–µ—á–∫–∞' },
      ];
      const CHEESE_GROUP_IDS = new Set(['brined','soft','hard','rolls']);

      const PRODUCTS = [
        // ===== –°–´–†–´: —Ä–∞—Å—Å–æ–ª—å–Ω—ã–µ =====
        {
          id:'mozzarella',
          name:'–ú–æ—Ü–∞—Ä–µ–ª–ª–∞',
          group:'brined',
          pricePerKg:2000,
          ico:'üßÄ',
          description:'–ù–∏—Ç–∏ –º–æ—Ü–∞—Ä–µ–ª–ª—ã –≤ –Ω–µ–∂–Ω–æ–π –æ–±–æ–ª–æ—á–∫–µ. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 3‚Äì5 —Å—É—Ç–æ–∫. –ò–¥–µ–∞–ª—å–Ω–∞ –∫ —Å–∞–ª–∞—Ç–∞–º.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/mozzarella.webp',
          pieceWeightGrams:200
        },
        {
          id:'buratta',
          name:'–ë—É—Ä–∞—Ç—Ç–∞',
          group:'brined',
          pricePerKg:2100,
          ico:'üßÄ',
          description:'–ú–µ—à–æ—á–µ–∫ –∏–∑ –º–æ—Ü–∞—Ä–µ–ª–ª—ã —Å –Ω–∞—á–∏–Ω–∫–æ–π –∏–∑ —Å—Ç—Ä–∞—á–∞—Ç–µ–ª–ª—ã. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 3‚Äì5 —Å—É—Ç–æ–∫.',
          img:DEFAULT_IMG,
          pieceWeightGrams:250
        },
        {
          id:'stracciatella',
          name:'–°—Ç—Ä–∞—á–∞—Ç–µ–ª–ª–∞',
          group:'brined',
          pricePerKg:2150,
          ico:'üßÄ',
          description:'–ù–∏—Ç–∏ –º–æ—Ü–∞—Ä–µ–ª–ª—ã –≤ —Å–ª–∏–≤–∫–∞—Ö. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5‚Äì7 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild3832-6430-4462-b663-353438383930/stracciatella.webp'
        },
        {
          id:'suluguni',
          name:'–°—É–ª—É–≥—É–Ω–∏',
          group:'brined',
          pricePerKg:1700,
          ico:'üßÄ',
          description:'–£–º–µ—Ä–µ–Ω–Ω–æ —Å–æ–ª—ë–Ω—ã–π, —Å–ª–æ–∏—Å—Ç—ã–π –∏ —ç–ª–∞—Å—Ç–∏—á–Ω—ã–π. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild3238-3866-4366-a436-623236363261/suluguni.webp'
        },
        {
          id:'suluguni-smoked',
          name:'–°—É–ª—É–≥—É–Ω–∏ –∫–æ–ø—á—ë–Ω—ã–π',
          group:'brined',
          pricePerKg:1800,
          ico:'üí®',
          description:'–° –ª—ë–≥–∫–æ–π –∫–æ–ø—á—ë–Ω–æ—Å—Ç—å—é, –ø–ª–æ—Ç–Ω–∞—è –∏ —ç–ª–∞—Å—Ç–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 30 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild6435-3838-4463-b431-353765323333/suluguni-smoked.webp'
        },
        {
          id:'imeretian',
          name:'–ò–º–µ—Ä–µ—Ç–∏–Ω—Å–∫–∏–π',
          group:'brined',
          pricePerKg:1500,
          ico:'üßÄ',
          description:'–ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π —Ä–∞—Å—Å–æ–ª—å–Ω—ã–π —Å—ã—Ä, –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–æ –≤—Å–µ–º –±–ª—é–¥–∞–º. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/imeretian.webp'
        },
        {
          id:'imeretian-dill-garlic',
          name:'–ò–º–µ—Ä–µ—Ç–∏–Ω—Å–∫–∏–π —Å –∑–µ–ª–µ–Ω—å—é –∏ —á–µ—Å–Ω–æ–∫–æ–º',
          group:'brined',
          pricePerKg:1600,
          ico:'üßÑ',
          description:'–°–≤–µ–∂–∏–π —Ä–∞—Å—Å–æ–ª—å–Ω—ã–π —Å—ã—Ä —Å –∞—Ä–æ–º–∞—Ç–Ω–æ–π –∑–µ–ª–µ–Ω—å—é –∏ —á–µ—Å–Ω–æ–∫–æ–º. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild6435-3539-4337-a561-386438636230/__.webp'
        },

        {
          id:'halloumi',
          name:'–•–∞–ª–ª—É–º–∏ (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π)',
          group:'brined',
          pricePerKg:1950,
          ico:'üî•',
          description:'–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –∂–∞—Ä–∫–∏ –Ω–∞ —Å–∫–æ–≤–æ—Ä–æ–¥–µ –∏–ª–∏ –≥—Ä–∏–ª–µ ‚Äî –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ö—Ä—É—Å—Ç—è—â–∞—è –∫–æ—Ä–æ—á–∫–∞. –ú–æ–∂–Ω–æ –µ—Å—Ç—å –∏ –±–µ–∑ –æ–±–∂–∞—Ä–∫–∏. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild3161-6362-4130-b134-623331346238/halloumi.webp',
          pieceWeightGrams:225,
          pieceWeightRangeText:'200‚Äì250 –≥'
        },
        {
          id:'halloumi-paprika-oregano',
          name:'–•–∞–ª–ª—É–º–∏ —Å –ø–∞–ø—Ä–∏–∫–æ–π –∏ –æ—Ä–µ–≥–∞–Ω–æ',
          group:'brined',
          pricePerKg:2100,
          ico:'üå∂Ô∏è',
          description:'–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –∂–∞—Ä–∫–∏ –∏–ª–∏ –±–µ–∑ –æ–±–∂–∞—Ä–∫–∏. –°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–∏–µ –Ω–æ—Ç–∫–∏. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild3133-6165-4134-b335-396662633262/halloumi-paprika-ore.webp',
          pieceWeightGrams:225,
          pieceWeightRangeText:'200‚Äì250 –≥'
        },
        {
          id:'halloumi-tomato-basil-garlic',
          name:'–•–∞–ª–ª—É–º–∏ —Ç–æ–º–∞—Ç-–±–∞–∑–∏–ª–∏–∫-—á–µ—Å–Ω–æ–∫',
          group:'brined',
          pricePerKg:2100,
          ico:'üçÖ',
          description:'–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –∂–∞—Ä–∫–∏, —Ö—Ä—É—Å—Ç—è—â–∞—è –∫–æ—Ä–æ—á–∫–∞. –ú–æ–∂–Ω–æ –µ—Å—Ç—å –∏ –±–µ–∑ –æ–±–∂–∞—Ä–∫–∏. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/halloumi-tomato-basil-garlic.webp',
          pieceWeightGrams:225,
          pieceWeightRangeText:'200‚Äì250 –≥'
        },
        {
          id:'halloumi-tomato-paprika',
          name:'–•–∞–ª–ª—É–º–∏ —Å –≤—è–ª–µ–Ω—ã–º–∏ —Ç–æ–º–∞—Ç–∞–º–∏',
          group:'brined',
          pricePerKg:2100,
          ico:'üçÖ',
          description:'–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –∂–∞—Ä–∫–∏, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä–æ—á–∫–∞. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild3863-3030-4439-a439-653238303862/halloumi-tomato-papr.webp',
          pieceWeightGrams:225,
          pieceWeightRangeText:'200‚Äì250 –≥'
        },

        {
          id:'kosichka',
          name:'–°—ã—Ä –∫–æ—Å–∏—á–∫–∞',
          group:'brined',
          pricePerKg:1900,
          ico:'ü•®',
          description:'–°–ª–µ–≥–∫–∞ —Å–æ–ª—ë–Ω—ã–π, –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–æ –≤—Å–µ–º—É. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:DEFAULT_IMG,
          pieceWeightGrams:200
        },
        {
          id:'kosichka-smoked',
          name:'–°—ã—Ä –∫–æ—Å–∏—á–∫–∞ –∫–æ–ø—á—ë–Ω–∞—è',
          group:'brined',
          pricePerKg:2000,
          ico:'üí®',
          description:'–•–æ–ª–æ–¥–Ω–æ–µ –∫–æ–ø—á–µ–Ω–∏–µ, –ª—ë–≥–∫–∞—è —Å–æ–ª—ë–Ω–æ—Å—Ç—å. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 30 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/kosichka-smoked.webp',
          pieceWeightGrams:200
        },
        {
          id:'spicy-klubok',
          name:'–ü—Ä—è–Ω—ã–µ –∫–ª—É–±–æ—á–∫–∏',
          group:'brined',
          pricePerKg:1950,
          ico:'üå∂Ô∏è',
          description:'–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–∫—É—Å–Ω—ã–π —Å—ã—Ä, –Ω–µ —Å–∏–ª—å–Ω–æ —Å–æ–ª—ë–Ω—ã–π, –Ω—Ä–∞–≤–∏—Ç—Å—è –≤—Å–µ–º. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild3463-6166-4665-a439-323264653939/spicy-klubok.webp',
          pieceWeightGrams:150
        },

        // ===== –°–´–†–´: –º—è–≥–∫–∏–µ =====
        {
          id:'ricotta',
          name:'–¢–≤–æ—Ä–æ–∂–Ω—ã–π —Å—ã—Ä (—Ä–∏–∫–æ—Ç—Ç–∞)',
          group:'soft',
          pricePerKg:1400,
          ico:'ü•õ',
          description:'–ù–µ–∂–Ω—ã–π —Å—ã—Ä, –ø–æ–¥—Ö–æ–¥–∏—Ç –∏ –∫ –±—É—Ç–µ—Ä–±—Ä–æ–¥–∞–º, –∏ –∫ –±–ª—é–¥–∞–º. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/ricotta.webp'
        },
        {
          id:'ricotta-herbs',
          name:'–¢–≤–æ—Ä–æ–∂–Ω—ã–π —Å—ã—Ä —Å –∑–µ–ª–µ–Ω—å—é (—Ä–∏–∫–æ—Ç—Ç–∞)',
          group:'soft',
          pricePerKg:1500,
          ico:'üåø',
          description:'–ù–µ–∂–Ω—ã–π, —Å–≤–µ–∂–∏–π, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π ‚Äî –ª—É—á—à–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å! –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/ricotta-herbs.webp'
        },
        {
          id:'caciotta',
          name:'–ö–∞—á–æ—Ç—Ç–∞',
          group:'soft',
          pricePerKg:2200,
          ico:'üßÄ',
          description:'–ú—è–≥–∫–∏–π –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —Å—ã—Ä. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild6165-3265-4834-a236-366661346562/caciotta.webp'
        },
        {
          id:'caciotta-fenugreek',
          name:'–ö–∞—á–æ—Ç—Ç–∞ —Å –ø–∞–∂–∏—Ç–Ω–∏–∫–æ–º',
          group:'soft',
          pricePerKg:2250,
          ico:'üåø',
          description:'–° –æ—Ä–µ—Ö–æ–≤—ã–º –ø—Ä–∏–≤–∫—É—Å–æ–º –ø–∞–∂–∏—Ç–Ω–∏–∫–∞. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:DEFAULT_IMG
        },

        {
          id:'panir-classic',
          name:'–ê–¥—ã–≥–µ–π—Å–∫–∏–π —Å—ã—Ä (–ø–∞–Ω–∏—Ä) –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π',
          group:'soft',
          pricePerKg:1450,
          ico:'üßÄ',
          description:'–û—á–µ–Ω—å –Ω–µ–∂–Ω—ã–π, –º—è–≥–∫–∏–π, –º–æ–ª–æ—á–Ω—ã–π –≤–∫—É—Å. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/panir-classic.webp'
        },
        {
          id:'panir-herbs',
          name:'–ê–¥—ã–≥–µ–π—Å–∫–∏–π —Å—ã—Ä (–ø–∞–Ω–∏—Ä) —Å –∑–µ–ª–µ–Ω—å—é',
          group:'soft',
          pricePerKg:1600,
          ico:'üåø',
          description:'–õ—ë–≥–∫–∏–π, —Å–≤–µ–∂–∏–π, –±—É–¥—Ç–æ –≥–ª–æ—Ç–æ–∫ –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–π –≤–æ–¥—ã –≤ –∂–∞—Ä—É. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/panir-herbs.webp'
        },
        {
          id:'panir-spicy',
          name:'–ê–¥—ã–≥–µ–π—Å–∫–∏–π —Å—ã—Ä (–ø–∞–Ω–∏—Ä) —Å–æ —Å–ø–µ—Ü–∏—è–º–∏',
          group:'soft',
          pricePerKg:1650,
          ico:'üå∂Ô∏è',
          description:'–í–∫—É—Å –Ω–µ –æ—Å—Ç—Ä—ã–π –∏ –Ω–µ –ø–µ—Ä—á—ë–Ω—ã–π. –û—á–µ–Ω—å –Ω–µ–∂–Ω—ã–π, –∞—Ä–æ–º–∞—Ç–Ω—ã–π, –≤—Å–µ —Å–ø–µ—Ü–∏–∏ –ø–æ–¥–æ–±—Ä–∞–Ω—ã –≤ –º–µ—Ä—É. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/panir-spicy.webp'
        },
        {
          id:'panir-smoked',
          name:'–ê–¥—ã–≥–µ–π—Å–∫–∏–π –∫–æ–ø—á—ë–Ω—ã–π (–ø–∞–Ω–∏—Ä)',
          group:'soft',
          pricePerKg:1700,
          ico:'üí®',
          description:'–ü—Ä–∏—è—Ç–Ω—ã–π –∞—Ä–æ–º–∞—Ç –∫–æ–ø—á—ë–Ω–æ—Å—Ç–∏, –≤–∫—É—Å –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–π, –±–µ–∑ —Ä–µ–∑–∫–æ—Å—Ç–∏. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 30 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/panir-smoked.webp'
        },

        // ===== –°–´–†–´: —Ç–≤—ë—Ä–¥—ã–µ =====
        {
          id:'hard-village',
          name:'–¢–≤—ë—Ä–¥—ã–π –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∏–π —Å—ã—Ä',
          group:'hard',
          pricePerKg:1600,
          ico:'üßÄ',
          description:'–¢–≤—ë—Ä–¥—ã–π –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∏–π —Å—ã—Ä –≥–æ—Ç–æ–≤–∏—Ç—Å—è –∏–∑ —Ç–≤–æ—Ä–æ–≥–∞ —Å –ø—Ä–∏–ø—Ä–∞–≤–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–π –æ–±–∂–∞—Ä–∏–≤–∞–µ—Ç—Å—è. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/hard-village.webp'
        },
        {
          id:'hard-smoked',
          name:'–¢–≤—ë—Ä–¥—ã–π –∫–æ–ø—á—ë–Ω—ã–π —Å—ã—Ä',
          group:'hard',
          pricePerKg:1800,
          ico:'üí®',
          description:'–ì–æ—Ç–æ–≤–∏—Ç—Å—è –∏–∑ —Ç–≤–æ—Ä–æ–≥–∞ —Å –ø—Ä–∏–ø—Ä–∞–≤–∞–º–∏, –æ–±–∂–∞—Ä–∏–≤–∞–µ—Ç—Å—è, –∑–∞—Ç–µ–º –∫–æ–ø—Ç–∏—Ç—Å—è. –ù–µ–∂–Ω—ã–π –∫–æ–ø—á—ë–Ω—ã–π –≤–∫—É—Å. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: –¥–æ 30 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild6662-3930-4663-b132-316135626136/hard-smoked.webp'
        },

        // ===== –°–´–†–ù–´–ï –†–£–õ–ï–¢–´ =====
        {
          id:'rolls-olives-walnut',
          name:'–°—ã—Ä–Ω—ã–π —Ä—É–ª–µ—Ç —Å –º–∞—Å–ª–∏–Ω–∞–º–∏ –∏ –≥—Ä–µ—Ü–∫–∏–º –æ—Ä–µ—Ö–æ–º',
          group:'rolls',
          pricePerKg:1700,
          ico:'ü•ú',
          description:'–ú–æ–∂–Ω–æ –ø–æ–¥–∞—Ç—å –∫–∞–∫ –∑–∞–∫—É—Å–∫—É –∫ –ª—é–±–æ–º—É —Å—Ç–æ–ª—É ‚Äî –¥–æ–º–∞—à–Ω–µ–º—É –∏–ª–∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–º—É. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/rolls-olives-walnut.webp'
        },
        {
          id:'rolls-apricot-cedar',
          name:'–°—ã—Ä–Ω—ã–π —Ä—É–ª–µ—Ç —Å –∫—É—Ä–∞–≥–æ–π –∏ –∫–µ–¥—Ä–æ–≤—ã–º –æ—Ä–µ—Ö–æ–º',
          group:'rolls',
          pricePerKg:1700,
          ico:'üçë',
          description:'–°–ª–µ–≥–∫–∞ —Å–ª–∞–¥–∫–æ–≤–∞—Ç—ã–π –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–≤–æ—Ä–æ–∂–Ω–æ–º—É —Å—ã—Ä—É, –∫—É—Ä–∞–≥–µ –∏ –æ—Ä–µ—Ö–∞–º. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/rolls-apricot-cedar.webp'
        },

        // ===== –ú–û–õ–û–ß–ö–ê =====
        {
          id:'milk',
          name:'–ú–æ–ª–æ–∫–æ',
          group:'dairy',
          pricePerL:150,
          ico:'ü•õ',
          description:'–ú–æ–ª–æ–∫–æ –æ—Ç–±–æ—Ä–Ω–æ–µ —Ü–µ–ª—å–Ω–æ–µ, –æ—Ö–ª–∞–∂–¥—ë–Ω–Ω–æ–µ. –ö–∞–∫ –∏–∑ –¥–µ—Ç—Å—Ç–≤–∞! –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 3‚Äì5 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:DEFAULT_IMG
        },
        {
          id:'milk-topped',
          name:'–ú–æ–ª–æ–∫–æ —Ç–æ–ø–ª—ë–Ω–æ–µ',
          group:'dairy',
          pricePerL:250,
          ico:'ü•õ',
          description:'–ù–∞—Å—Ç–æ—è—â–µ–µ —Ü–µ–ª—å–Ω–æ–µ —Ç–æ–ø–ª—ë–Ω–æ–µ –º–æ–ª–æ–∫–æ. –ò–º–µ–µ—Ç –≥—É—Å—Ç–æ–≤–∞—Ç—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ü–∏—é, –ø–æ–ø—Ä–æ–±–æ–≤–∞–≤ –æ–¥–Ω–∞–∂–¥—ã ‚Äî —É–∂–µ –Ω–µ —Ä–∞–∑–ª—é–±–∏—à—å! –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5‚Äì7 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:'https://static.tildacdn.com/tild3839-3163-4066-a633-306366346631/milk-topped.webp'
        },
        {
          id:'yogurt',
          name:'–ô–æ–≥—É—Ä—Ç',
          group:'dairy',
          pricePerL:260,
          ico:'ü•õ',
          description:'–°–∞–º—ã–π –Ω–∞—Å—Ç–æ—è—â–∏–π –π–æ–≥—É—Ä—Ç, –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–∑ –æ—Ç–±–æ—Ä–Ω–æ–≥–æ –º–æ–ª–æ–∫–∞ –∏ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–π –∑–∞–∫–≤–∞—Å–∫–∏. –ù–µ–∂–Ω—ã–π, –æ—Å–≤–µ–∂–∞—é—â–∏–π –≤–∫—É—Å —Å –ª—ë–≥–∫–æ–π –∫–∏—Å–ª–∏–Ω–∫–æ–π. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:DEFAULT_IMG
        },
        {
          id:'ryazhenka',
          name:'–†—è–∂–µ–Ω–∫–∞',
          group:'dairy',
          pricePerL:280,
          ico:'ü•õ',
          description:'–ù–∞—Ç—É—Ä–∞–ª—å–Ω–∞—è —Ä—è–∂–µ–Ω–∫–∞ –∏–∑ –º–æ–ª–æ–∫–∞. –û–¥–∏–Ω –∏–∑ –ª—é–±–∏–º—ã—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤ –≤—Å–µ—Ö –¥–µ—Ç–µ–π! –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: –¥–æ 5 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:DEFAULT_IMG
        },
        {
          id:'misti-dahi',
          name:'–ú–∏—Å—Ç—Ö–∏-–î–∞—Ö–∏',
          group:'dairy',
          pricePerL:300,
          ico:'ü•õ',
          description:'–ö–∏—Å–ª–æ–º–æ–ª–æ—á–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5 —Å—É—Ç–æ–∫.',
          img:DEFAULT_IMG
        },
        {
          id:'whey',
          name:'–°—ã–≤–æ—Ä–æ—Ç–∫–∞',
          group:'dairy',
          pricePerL:60,
          ico:'üíß',
          description:'–ú–æ–ª–æ—á–Ω—ã–π –Ω–∏–∑–∫–æ–∫–∞–ª–æ—Ä–∏–π–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç, –ø–æ–ª—É—á–∞–µ–º—ã–π –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è —Ç–≤–æ—Ä–æ–≥–∞ –∏–ª–∏ —Å—ã—Ä–∞. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 3 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:DEFAULT_IMG
        },
        {
          id:'cream',
          name:'–°–ª–∏–≤–∫–∏ (33‚Äì36%)',
          group:'dairy',
          pricePerL:1450,
          ico:'ü•õ',
          description:'–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ —Å–≤–µ–∂–∏–µ —Å–ª–∏–≤–∫–∏. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ. –ù–∞ 3‚Äì4 —Å—É—Ç–∫–∏ –º–æ–≥—É—Ç —Å—Ç–∞—Ç—å —Å–º–µ—Ç–∞–Ω–æ–π.',
          img:'https://static.tildacdn.com/tild3163-3665-4636-a537-303830323163/cream.webp'
        },
        {
          id:'tvorog',
          name:'–¢–≤–æ—Ä–æ–≥',
          group:'dairy',
          pricePerKg:700,
          ico:'ü•õ',
          description:'–¢–≤–æ—Ä–æ–∂–Ω—ã–π –Ω–µ–∂–Ω—ã–π –≤–∫—É—Å. ¬´–ó—ë—Ä–Ω—ã—à–∫–∏¬ª —Ç–≤–æ—Ä–æ–≥–∞ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ, –∫–∞–∫–∏–º–∏ –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å. –ê —Å–æ —Å–ª–∏–≤–∫–∞–º–∏ ‚Äî –º–º–º, –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∑–∫–∞! –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 3‚Äì5 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ. –û—Ç–ª–∏—á–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –∑–∞–º–æ—Ä–æ–∑–∫—É.',
          img:'https://static.tildacdn.com/tild3136-3730-4134-b466-613138343764/tvorog.webp'
        },
        {
          id:'butter',
          name:'–°–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ (—à–∞—Ä–∏–∫)',
          group:'dairy',
          pricePerKg:2100,
          ico:'üßà',
          description:'–ù–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ —Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ, –∫–∞–∫ –≥–æ—Ç–æ–≤–∏–ª–∞ –±–∞–±—É—à–∫–∞: –∏–∑ –æ—Ç–±–æ—Ä–Ω–æ–≥–æ –º–æ–ª–æ–∫–∞, –≤–∑–±–∏–≤–∞–Ω–∏–µ –Ω–µ–ø–∞—Å—Ç–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–∏–≤–æ–∫, –≤—Å—ë –≤—Ä—É—á–Ω—É—é. –ë–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–∞—Ö–∞—Ä–∞ –∏–ª–∏ —Å–æ–ª–∏. –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ—Å —à–∞—Ä–∏–∫–∞ ‚Äî 200 –≥, –º–æ–∂–Ω–æ –∑–∞–∫–∞–∑–∞—Ç—å –ª—é–±–æ–π –≤–µ—Å.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/butter.webp',
          pieceWeightGrams:200
        },
        {
          id:'ghee',
          name:'–¢–æ–ø–ª—ë–Ω–æ–µ –º–∞—Å–ª–æ (–ì–•–ò)',
          group:'dairy',
          pricePerKg:2900,
          ico:'üßà',
          description:'–°–æ—Å—Ç–∞–≤: —Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ. –ñ–∏—Ä–Ω–æ—Å—Ç—å ~99%. –ì–•–ò ‚Äî —Å–∞–º–æ–µ –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ–µ, —á—Ç–æ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ –º–æ–ª–æ–∫–∞. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∂–∞—Ä–∫–∏. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: –±–æ–ª—å—à–µ 10 –ª–µ—Ç.',
          img:DEFAULT_IMG
        },
        {
          id:'condensed-milk',
          name:'–í–∞—Ä—ë–Ω–∞—è —Å–≥—É—â—ë–Ω–∫–∞',
          group:'dairy',
          pricePerKg:1000,
          ico:'ü•õ',
          description:'–°–æ—Å—Ç–∞–≤: —Ü–µ–ª—å–Ω–æ–µ –º–æ–ª–æ–∫–æ, —Ç—Ä–æ—Å—Ç–Ω–∏–∫–æ–≤—ã–π —Å–∞—Ö–∞—Ä. –ù–∞—Ç—É—Ä–∞–ª—å–Ω–∞—è –≤–∞—Ä—ë–Ω–∞—è —Å–≥—É—â—ë–Ω–∫–∞, –≥—É—Å—Ç–∞—è –∏ –∫–∞—Ä–∞–º–µ–ª—å–Ω–∞—è. –û—Å—Ç–æ—Ä–æ–∂–Ω–æ ‚Äî –¥–µ—Ç–∏ –æ—á–µ–Ω—å –ª—é–±—è—Ç! –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 7 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:DEFAULT_IMG
        },
        {
          id:'tvorozhnaya-massa',
          name:'–¢–≤–æ—Ä–æ–∂–Ω–∞—è –º–∞—Å—Å–∞',
          group:'dairy',
          pricePerKg:850,
          ico:'ü•õ',
          description:'–¢–≤–æ—Ä–æ–∂–Ω–∞—è –º–∞—Å—Å–∞ —Å –∏–∑—é–º–æ–º, —Ñ–∏–Ω–∏–∫–∞–º–∏, —á–µ—Ä–Ω–æ—Å–ª–∏–≤–æ–º –∏–ª–∏ –∫—É—Ä–∞–≥–æ–π. –î–µ–ª–∞–µ—Ç—Å—è –∏–∑ —Ç–≤–æ—Ä–æ–≥–∞, —Å–ª–∏–≤–æ–∫ –∏ —Ç—Ä–æ—Å—Ç–Ω–∏–∫–æ–≤–æ–≥–æ —Å–∞—Ö–∞—Ä–∞. –ò–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è –∑–∞–≤—Ç—Ä–∞–∫–∞. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:'https://static.tildacdn.com/tild6630-3237-4430-b461-313634376333/tvorozhnaya-massa_.webp',
          flavors:['–° –∏–∑—é–º–æ–º','–° —Ñ–∏–Ω–∏–∫–∞–º–∏','–° —á–µ—Ä–Ω–æ—Å–ª–∏–≤–æ–º','–° –∫—É—Ä–∞–≥–æ–π']
        },

        // ===== –°–õ–ê–î–û–°–¢–ò =====
        {
          id:'sandesh-orange',
          name:'–°–∞–Ω–¥–µ—à –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π',
          group:'sweets',
          pricePerUnit:300,
          ico:'üçÆ',
          description:'–ù–µ–∂–Ω—ã–π —Ç–≤–æ—Ä–æ–∂–Ω—ã–π –¥–µ—Å–µ—Ä—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–π –≤–ª—é–±–ª—è—é—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ —É–∫—É—Å–∞. –°–æ—Å—Ç–∞–≤: —Ü–µ–ª—å–Ω–æ–µ –º–æ–ª–æ–∫–æ, —Ç—Ä–æ—Å—Ç–Ω–∏–∫–æ–≤—ã–π —Å–∞—Ö–∞—Ä, —Ü–µ–¥—Ä–∞ –∞–ø–µ–ª—å—Å–∏–Ω–∞. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/sandesh-orange.webp'
        },
        {
          id:'sandesh-walnut',
          name:'–°–∞–Ω–¥–µ—à —Å –≥—Ä–µ—Ü–∫–∏–º –æ—Ä–µ—Ö–æ–º',
          group:'sweets',
          pricePerUnit:300,
          ico:'üçÆ',
          description:'–¢–≤–æ—Ä–æ–∂–Ω—ã–π –¥–µ—Å–µ—Ä—Ç —Å –≥—Ä–µ—Ü–∫–∏–º –æ—Ä–µ—Ö–æ–º ‚Äî —Ç–∞–µ—Ç –≤–æ —Ä—Ç—É. –°–æ—Å—Ç–∞–≤: —Ü–µ–ª—å–Ω–æ–µ –º–æ–ª–æ–∫–æ, —Ç—Ä–æ—Å—Ç–Ω–∏–∫–æ–≤—ã–π —Å–∞—Ö–∞—Ä, –≥—Ä–µ—Ü–∫–∏–π –æ—Ä–µ—Ö. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5 —Å—É—Ç–æ–∫.',
          img:'https://raw.githubusercontent.com/youmyloving/syr/main/sandesh-walnut.webp'
        },
        {
          id:'sandesh-carob',
          name:'–°–∞–Ω–¥–µ—à —Å –∫—ç—Ä–æ–±–æ–º',
          group:'sweets',
          pricePerUnit:300,
          ico:'üçÆ',
          description:'–¢–≤–æ—Ä–æ–∂–Ω—ã–π –¥–µ—Å–µ—Ä—Ç —Å —à–æ–∫–æ–ª–∞–¥–Ω—ã–º –≤–∫—É—Å–æ–º –±–ª–∞–≥–æ–¥–∞—Ä—è –∫—ç—Ä–æ–±—É –∏ –∫–æ–∫–æ—Å–æ–≤–æ–π —Å—Ç—Ä—É–∂–∫–µ. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 5 —Å—É—Ç–æ–∫.',
          img:'https://static.tildacdn.com/tild6135-6337-4266-b764-613565386238/_.webp'
        },

        {
          id:'barfi-classic',
          name:'–ë—É—Ä—Ñ–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π (–Ω–∞–±–æ—Ä)',
          group:'sweets',
          pricePerUnit:350,
          ico:'üçÆ',
          description:'–ù–µ–∂–Ω—ã–π –º–æ–ª–æ—á–Ω—ã–π –¥–µ—Å–µ—Ä—Ç. –í –Ω–∞–±–æ—Ä–µ 5 —à—Ç.',
          img:'https://static.tildacdn.com/tild3430-3231-4562-b164-366638313434/barfi-classic.webp'
        },
        {
          id:'barfi-hazelnut',
          name:'–ë—É—Ä—Ñ–∏ —Å —Ñ—É–Ω–¥—É–∫–æ–º (–Ω–∞–±–æ—Ä)',
          group:'sweets',
          pricePerUnit:350,
          ico:'üçÆ',
          description:'–ë—É—Ä—Ñ–∏ —Å —Ñ—É–Ω–¥—É–∫–æ–º, 5 —à—Ç –≤ –Ω–∞–±–æ—Ä–µ.',
          img:'https://static.tildacdn.com/tild3065-3332-4466-a536-353130343264/barfi-hazelnut.webp'
        },
        {
          id:'barfi-sesame',
          name:'–ë—É—Ä—Ñ–∏ –∫—É–Ω–∂—É—Ç–Ω—ã–π (–Ω–∞–±–æ—Ä)',
          group:'sweets',
          pricePerUnit:490,
          ico:'üçÆ',
          description:'–ë—É—Ä—Ñ–∏ —Å –∫—É–Ω–∂—É—Ç–æ–º, 7 —à—Ç –≤ –Ω–∞–±–æ—Ä–µ.',
          img:'https://static.tildacdn.com/tild3439-6135-4861-a531-316233303166/_.webp'
        },

        {
          id:'halva',
          name:'–•–∞–ª–≤–∞',
          group:'sweets',
          pricePerUnit:200,
          ico:'üçØ',
          description:'–°–∞–º–∞—è –Ω–∞—Å—Ç–æ—è—â–∞—è —Ö–∞–ª–≤–∞, —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –º–∞–≥–∞–∑–∏–Ω–Ω–æ–π. –ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤: —Ç—Ä–æ—Å—Ç–Ω–∏–∫–æ–≤—ã–π —Å–∞—Ö–∞—Ä, –≤–æ–¥–∞, —Å–µ–º–µ–Ω–∞ –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω–∏–∫–∞, —Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 14 –¥–Ω–µ–π.',
          img:'https://static.tildacdn.com/tild3566-6566-4464-b531-306364646164/photo.webp'
        },
        {
          id:'potato-cake-5',
          name:'–ü–∏—Ä–æ–∂–Ω–æ–µ ¬´–ö–∞—Ä—Ç–æ—à–∫–∞¬ª (5 —à—Ç)',
          group:'sweets',
          pricePerUnit:400,
          ico:'üç∞',
          description:'–î–æ–º–∞—à–Ω–∏–µ –ø–∏—Ä–æ–∂–Ω—ã–µ ¬´–ö–∞—Ä—Ç–æ—à–∫–∞¬ª –∏–∑ —Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–æ–π –º—É–∫–∏ –∏ –≤–∞—Ä—ë–Ω–æ–π —Å–≥—É—â—ë–Ω–∫–∏. –í –∫–æ—Ä–æ–±–∫–µ 5 —à—Ç.',
          img:'https://static.tildacdn.com/tild3961-6133-4632-b162-396333663962/potato-cake-2.webp'
        },
        {
          id:'potato-cake-2',
          name:'–ü–∏—Ä–æ–∂–Ω–æ–µ ¬´–ö–∞—Ä—Ç–æ—à–∫–∞¬ª (2 —à—Ç)',
          group:'sweets',
          pricePerUnit:190,
          ico:'üç∞',
          description:'–î–æ–º–∞—à–Ω–∏–µ –ø–∏—Ä–æ–∂–Ω—ã–µ ¬´–ö–∞—Ä—Ç–æ—à–∫–∞¬ª (2 —à—Ç) –∏–∑ —Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–æ–π –º—É–∫–∏ –∏ –≤–∞—Ä—ë–Ω–æ–π —Å–≥—É—â—ë–Ω–∫–∏.',
          img:'https://static.tildacdn.com/tild3961-6133-4632-b162-396333663962/potato-cake-2.webp'
        },

        // ===== –í–´–ü–ï–ß–ö–ê / –ü–ï–ß–ï–ù–¨–ï / –¢–û–†–¢–´ =====
        {
          id:'cookies-tvorog',
          name:'–ü–µ—á–µ–Ω—å–µ —Ç–≤–æ—Ä–æ–∂–Ω–æ–µ',
          group:'bakery',
          pricePerKg:600,
          ico:'üç™',
          description:'–ú—è–≥–∫–æ–µ –¥–æ–º–∞—à–Ω–µ–µ –ø–µ—á–µ–Ω—å–µ –Ω–∞ —Ç–≤–æ—Ä–æ–≥–µ.',
          img:DEFAULT_IMG
        },
        {
          id:'cookies-oat',
          name:'–ü–µ—á–µ–Ω—å–µ –æ–≤—Å—è–Ω–æ–µ',
          group:'bakery',
          pricePerKg:600,
          ico:'üç™',
          description:'–û–≤—Å—è–Ω–æ–µ –ø–µ—á–µ–Ω—å–µ –∫ —á–∞—é.',
          img:DEFAULT_IMG
        },
        {
          id:'cookies-nut',
          name:'–û—Ä–µ—Ö–æ–≤—ã–µ –ø–∞–ª—å—á–∏–∫–∏',
          group:'bakery',
          pricePerKg:700,
          ico:'üç™',
          description:'–ü–µ—á–µ–Ω—å–µ —Å –æ—Ä–µ—Ö–∞–º–∏ ‚Äî —Ö—Ä—É—Å—Ç—è—â–∏–µ –ø–∞–ª—å—á–∏–∫–∏.',
          img:'https://static.tildacdn.com/tild3035-6230-4434-b363-303434366630/cookies-nut.webp'
        },
        {
          id:'cookies-carob',
          name:'–ü–µ—á–µ–Ω—å–µ –∫—ç—Ä–æ–±–æ–≤–æ–µ',
          group:'bakery',
          pricePerKg:600,
          ico:'üç™',
          description:'–ü–µ—á–µ–Ω—å–µ —Å –∫—ç—Ä–æ–±–æ–º –≤–º–µ—Å—Ç–æ –∫–∞–∫–∞–æ.',
          img:DEFAULT_IMG
        },
        {
          id:'cookies-sandy',
          name:'–ü–µ—á–µ–Ω—å–µ –ø–µ—Å–æ—á–Ω–æ–µ',
          group:'bakery',
          pricePerKg:600,
          ico:'üç™',
          description:'–†–∞—Å—Å—ã–ø—á–∞—Ç–æ–µ –ø–µ—Å–æ—á–Ω–æ–µ –ø–µ—á–µ–Ω—å–µ.',
          img:DEFAULT_IMG
        },

        {
          id:'muffin-plain',
          name:'–ö–µ–∫—Å—ã –æ–±—ã—á–Ω—ã–µ',
          group:'bakery',
          pricePerKg:500,
          ico:'üßÅ',
          description:'–î–æ–º–∞—à–Ω–∏–µ –∫–µ–∫—Å—ã.',
          img:DEFAULT_IMG
        },
        {
          id:'muffin-carob',
          name:'–ö–µ–∫—Å—ã —Å –∫—ç—Ä–æ–±–æ–º',
          group:'bakery',
          pricePerKg:550,
          ico:'üßÅ',
          description:'–ö–µ–∫—Å—ã —Å –∫—ç—Ä–æ–±–æ–º.',
          img:DEFAULT_IMG
        },
        {
          id:'muffin-raisin',
          name:'–ö–µ–∫—Å—ã —Å –∏–∑—é–º–æ–º',
          group:'bakery',
          pricePerKg:550,
          ico:'üßÅ',
          description:'–ö–µ–∫—Å—ã —Å –∏–∑—é–º–æ–º.',
          img:'https://static.tildacdn.com/tild3465-3162-4436-a235-363763383339/muffin-raisin.webp'
        },

        {
          id:'casserole-plain',
          name:'–¢–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞',
          group:'bakery',
          pricePerUnit:260,
          ico:'üçÆ',
          description:'–î–æ–º–∞—à–Ω—è—è —Ç–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞ –±–µ–∑ –¥–æ–±–∞–≤–æ–∫.',
          img:DEFAULT_IMG
        },
        {
          id:'casserole-raisin',
          name:'–¢–≤–æ—Ä–æ–∂–Ω–∞—è –∑–∞–ø–µ–∫–∞–Ω–∫–∞ —Å –∏–∑—é–º–æ–º',
          group:'bakery',
          pricePerUnit:260,
          ico:'üçÆ',
          description:'–ó–∞–ø–µ–∫–∞–Ω–∫–∞ —Å –∏–∑—é–º–æ–º.',
          img:DEFAULT_IMG
        },

        {
          id:'crazy-cake',
          name:'–°—É–º–∞—Å—à–µ–¥—à–∏–π –ø–∏—Ä–æ–≥',
          group:'bakery',
          pricePerUnit:600,
          ico:'üç∞',
          description:'–î–æ–º–∞—à–Ω–∏–π –ø–∏—Ä–æ–≥ –∫ —á–∞—é.',
          img:DEFAULT_IMG
        },
        {
          id:'coconut-kuchen-1kg',
          name:'–ö–æ–∫–æ—Å–æ–≤—ã–π –ø–∏—Ä–æ–≥ 1 –∫–≥',
          group:'bakery',
          pricePerUnit:1800,
          ico:'üç∞',
          description:'–ö–æ–∫–æ—Å–æ–≤—ã–π –ø–∏—Ä–æ–≥ (—Ñ–æ—Ä–º–∞ ~1 –∫–≥).',
          img:DEFAULT_IMG
        },
        {
          id:'coconut-kuchen-05kg',
          name:'–ö–æ–∫–æ—Å–æ–≤—ã–π –ø–∏—Ä–æ–≥ 0.5 –∫–≥',
          group:'bakery',
          pricePerUnit:1000,
          ico:'üç∞',
          description:'–ö–æ–∫–æ—Å–æ–≤—ã–π –ø–∏—Ä–æ–≥ (—Ñ–æ—Ä–º–∞ ~0.5 –∫–≥).',
          img:DEFAULT_IMG
        },
        {
          id:'napoleon-1kg',
          name:'–¢–æ—Ä—Ç ¬´–ù–∞–ø–æ–ª–µ–æ–Ω¬ª 1 –∫–≥',
          group:'bakery',
          pricePerUnit:1300,
          ico:'üç∞',
          description:'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ù–∞–ø–æ–ª–µ–æ–Ω (–æ–∫–æ–ª–æ 1 –∫–≥).',
          img:DEFAULT_IMG
        },
        {
          id:'napoleon-05kg',
          name:'–¢–æ—Ä—Ç ¬´–ù–∞–ø–æ–ª–µ–æ–Ω¬ª 0.5 –∫–≥',
          group:'bakery',
          pricePerUnit:750,
          ico:'üç∞',
          description:'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ù–∞–ø–æ–ª–µ–æ–Ω (–æ–∫–æ–ª–æ 0.5 –∫–≥).',
          img:DEFAULT_IMG
        },
        {
          id:'apple-pie',
          name:'–Ø–±–ª–æ—á–Ω—ã–π –ø–∏—Ä–æ–≥',
          group:'bakery',
          pricePerUnit:560,
          ico:'ü•ß',
          description:'–î–æ–º–∞—à–Ω–∏–π —è–±–ª–æ—á–Ω—ã–π –ø–∏—Ä–æ–≥.',
          img:DEFAULT_IMG
        },

        {
          id:'bliny-10',
          name:'–ë–ª–∏–Ω—ã (10 —à—Ç)',
          group:'bakery',
          pricePerUnit:330,
          ico:'ü•û',
          description:'–¢–æ–Ω–∫–∏–µ –±–ª–∏–Ω—á–∏–∫–∏, 10 —à—Ç.',
          img:DEFAULT_IMG
        },
        {
          id:'bliny-5',
          name:'–ë–ª–∏–Ω—ã (5 —à—Ç)',
          group:'bakery',
          pricePerUnit:220,
          ico:'ü•û',
          description:'–¢–æ–Ω–∫–∏–µ –±–ª–∏–Ω—á–∏–∫–∏, 5 —à—Ç.',
          img:DEFAULT_IMG
        },
        {
          id:'bliny-tvorog-5',
          name:'–ë–ª–∏–Ω—ã —Å —Ç–≤–æ—Ä–æ–≥–æ–º/–∏–∑—é–º–æ–º (5 —à—Ç)',
          group:'bakery',
          pricePerUnit:300,
          ico:'ü•û',
          description:'–ë–ª–∏–Ω—ã —Å –Ω–∞—á–∏–Ω–∫–æ–π –∏–∑ —Ç–≤–æ—Ä–æ–≥–∞ –∏–ª–∏ —Ç–≤–æ—Ä–æ–≥–∞ —Å –∏–∑—é–º–æ–º.',
          img:DEFAULT_IMG
        },

        {
          id:'syrniki-10',
          name:'–°—ã—Ä–Ω–∏–∫–∏ (10 —à—Ç)',
          group:'bakery',
          pricePerUnit:520,
          ico:'ü•û',
          description:'–î–æ–º–∞—à–Ω–∏–µ —Å—ã—Ä–Ω–∏–∫–∏, 10 —à—Ç.',
          img:DEFAULT_IMG
        },
        {
          id:'syrniki-5',
          name:'–°—ã—Ä–Ω–∏–∫–∏ (5 —à—Ç)',
          group:'bakery',
          pricePerUnit:280,
          ico:'ü•û',
          description:'–î–æ–º–∞—à–Ω–∏–µ —Å—ã—Ä–Ω–∏–∫–∏, 5 —à—Ç.',
          img:DEFAULT_IMG
        },

        {
          id:'chapati-10',
          name:'–ß–∞–ø–∞—Ç–∏ (10 —à—Ç)',
          group:'bakery',
          pricePerUnit:270,
          ico:'ü´ì',
          description:'–°–æ—Å—Ç–∞–≤: –º—É–∫–∞ –ø—à–µ–Ω–∏—á–Ω–∞—è –≤—ã—Å—à–µ–≥–æ —Å–æ—Ä—Ç–∞, —Ä–∂–∞–Ω–∞—è –º—É–∫–∞, –≤–æ–¥–∞, —Å–æ–ª—å, —Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ. –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è: 2 —Å—É—Ç–æ–∫ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ.',
          img:'https://static.tildacdn.com/tild6332-6239-4538-b839-356132356236/chapati-10.webp'
        },
        {
          id:'chapati-wholewheat-10',
          name:'–ß–∞–ø–∞—Ç–∏ —Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤—ã–µ (10 —à—Ç)',
          group:'bakery',
          pricePerUnit:320,
          ico:'ü´ì',
          description:'–ß–∞–ø–∞—Ç–∏ –∏–∑ —Ü–µ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–æ–π –º—É–∫–∏.',
          img:DEFAULT_IMG
        },
      ];

      // —Å–ø–µ—Ü-–ø—Ä–∞–≤–∏–ª–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
      const VARIANT_RULES = {
        // –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ —Å—ã—Ä—ã
        'mozzarella': { type:'fixed', options:['1 —à—Ç (‚âà200 –≥)'] },
        'buratta':    { type:'fixed', options:['1 —à—Ç (‚âà250 –≥)'] },

        'halloumi':                        { type:'fixed', options:['1 —à—Ç (‚âà250 –≥)'] },
        'halloumi-paprika-oregano':        { type:'fixed', options:['1 —à—Ç (‚âà250 –≥)'] },
        'halloumi-tomato-basil-garlic':    { type:'fixed', options:['1 —à—Ç (‚âà250 –≥)'] },
        'halloumi-tomato-paprika':         { type:'fixed', options:['1 —à—Ç (‚âà250 –≥)'] },

        'kosichka':        { type:'fixed', options:['1 —à—Ç (‚âà200 –≥)'] },
        'kosichka-smoked': { type:'fixed', options:['1 —à—Ç (‚âà200 –≥)'] },
        'spicy-klubok':    { type:'fixed', options:['1 —à—Ç (‚âà150 –≥)'] },

        // –ª–∏—Ç—Ä—ã
        'milk':       { type:'fixed', options:['0.5 –ª','1 –ª'] },
        'milk-topped':{ type:'fixed', options:['0.5 –ª','1 –ª'] },
        'yogurt':     { type:'fixed', options:['0.5 –ª','1 –ª'] },
        'ryazhenka':  { type:'fixed', options:['0.5 –ª','1 –ª'] },
        'misti-dahi': { type:'fixed', options:['0.5 –ª','1 –ª'] },
        'whey':       { type:'fixed', options:['1 –ª'] },
        'cream':      { type:'fixed', options:['0.2 –ª','0.5 –ª','1 –ª'] },

        // —Ç–≤–æ—Ä–æ–≥ / –º–∞—Å—Å–∞ / —Å–≥—É—â—ë–Ω–∫–∞
        'tvorog':          { type:'weight', unit:'–≥', step:250, min:250, max:2000 },
        'tvorozhnaya-massa': { type:'weight', unit:'–≥', step:100, min:200, max:2000 },
        'condensed-milk':  { type:'weight', unit:'–≥', step:100, min:200, max:2000 },

        // –º–∞—Å–ª–æ
        'butter': { type:'fixed', options:['1 —à—Ç (‚âà200 –≥)'] },
        'ghee':   { type:'fixed', options:['200 –≥','500 –≥','1000 –≥'] },

        // —Å–ª–∞–¥–æ—Å—Ç–∏ –Ω–∞–±–æ—Ä–∞–º–∏
        'sandesh-orange': { type:'fixed', options:['1 –Ω–∞–±–æ—Ä (5 —à—Ç)'] },
        'sandesh-walnut': { type:'fixed', options:['1 –Ω–∞–±–æ—Ä (5 —à—Ç)'] },
        'sandesh-carob':  { type:'fixed', options:['1 –Ω–∞–±–æ—Ä (5 —à—Ç)'] },
        'barfi-classic':  { type:'fixed', options:['1 –Ω–∞–±–æ—Ä (5 —à—Ç)'] },
        'barfi-hazelnut': { type:'fixed', options:['1 –Ω–∞–±–æ—Ä (5 —à—Ç)'] },
        'barfi-sesame':   { type:'fixed', options:['1 –Ω–∞–±–æ—Ä (7 —à—Ç)'] },
        'halva':          { type:'fixed', options:['0.2 –∫–≥'] },
        'potato-cake-5':  { type:'fixed', options:['5 —à—Ç'] },
        'potato-cake-2':  { type:'fixed', options:['2 —à—Ç'] },

        // –ø–µ—á–µ–Ω—å–µ / –∫–µ–∫—Å—ã –ø–æ –≤–µ—Å—É
        'cookies-tvorog': { type:'weight', unit:'–≥', step:50, min:200, max:2000 },
        'cookies-oat':    { type:'weight', unit:'–≥', step:50, min:200, max:2000 },
        'cookies-nut':    { type:'weight', unit:'–≥', step:50, min:200, max:2000 },
        'cookies-carob':  { type:'weight', unit:'–≥', step:50, min:200, max:2000 },
        'cookies-sandy':  { type:'weight', unit:'–≥', step:50, min:200, max:2000 },

        'muffin-plain':  { type:'weight', unit:'–≥', step:50, min:200, max:2000 },
        'muffin-carob':  { type:'weight', unit:'–≥', step:50, min:200, max:2000 },
        'muffin-raisin': { type:'weight', unit:'–≥', step:50, min:200, max:2000 },

        // –∑–∞–ø–µ–∫–∞–Ω–∫–∏ / –ø–∏—Ä–æ–≥–∏ / —Ç–æ—Ä—Ç—ã
        'casserole-plain':      { type:'fixed', options:['1 —à—Ç'] },
        'casserole-raisin':     { type:'fixed', options:['1 —à—Ç'] },
        'crazy-cake':           { type:'fixed', options:['1 —à—Ç'] },
        'coconut-kuchen-1kg':   { type:'fixed', options:['1 —Ç–æ—Ä—Ç (1 –∫–≥)'] },
        'coconut-kuchen-05kg':  { type:'fixed', options:['1 —Ç–æ—Ä—Ç (0.5 –∫–≥)'] },
        'napoleon-1kg':         { type:'fixed', options:['1 —Ç–æ—Ä—Ç (1 –∫–≥)'] },
        'napoleon-05kg':        { type:'fixed', options:['1 —Ç–æ—Ä—Ç (0.5 –∫–≥)'] },
        'apple-pie':            { type:'fixed', options:['1 –ø–∏—Ä–æ–≥'] },

        // –±–ª–∏–Ω—ã / —Å—ã—Ä–Ω–∏–∫–∏ / —á–∞–ø–∞—Ç–∏
        'bliny-10':         { type:'fixed', options:['10 —à—Ç'] },
        'bliny-5':          { type:'fixed', options:['5 —à—Ç'] },
        'bliny-tvorog-5':   { type:'fixed', options:['5 —à—Ç'] },
        'syrniki-10':       { type:'fixed', options:['10 —à—Ç'] },
        'syrniki-5':        { type:'fixed', options:['5 —à—Ç'] },
        'chapati-10':       { type:'fixed', options:['10 —à—Ç'] },
        'chapati-wholewheat-10': { type:'fixed', options:['10 —à—Ç'] },
      };

      // ===== STATE =====
      let cart = [];
      let favorites = new Set();
      let currentProduct = null;
      let filteredProducts = [];
      let checkoutState = { phone:'', address:'', comment:'', promo:'', city:'–ü–µ–Ω–∑–∞' };

      document.addEventListener('DOMContentLoaded', init);

      function init(){
        loadState();
        setupEventListeners();
        setupTelegramWebApp();
        renderUserProfile();
        populateCategoryFilter();
        document.getElementById('only-cheese-checkbox').checked = ONLY_CHEESE_FILTER_DEFAULT;
        refreshFavoritesBar();
        filterAndRender();
        updateCartUI();
      }

      function loadState(){
        try{
          const savedCart = localStorage.getItem(STORAGE_CART_KEY);
          if(savedCart) cart = JSON.parse(savedCart);
        }catch(e){}
        try{
          const savedFav = localStorage.getItem(STORAGE_FAV_KEY);
          if(savedFav) favorites = new Set(JSON.parse(savedFav));
        }catch(e){}
        try{
          const savedCheckout = localStorage.getItem(STORAGE_CHECKOUT_KEY);
          if(savedCheckout) checkoutState = { ...checkoutState, ...JSON.parse(savedCheckout) };
        }catch(e){}
      }

      function saveState(){
        try{ localStorage.setItem(STORAGE_CART_KEY, JSON.stringify(cart)); }catch(e){}
        try{ localStorage.setItem(STORAGE_FAV_KEY, JSON.stringify([...favorites])); }catch(e){}
        try{ localStorage.setItem(STORAGE_CHECKOUT_KEY, JSON.stringify(checkoutState)); }catch(e){}
      }

      function setupTelegramWebApp(){
        if(window.Telegram && window.Telegram.WebApp){
          const webApp = window.Telegram.WebApp;
          webApp.ready();
          webApp.expand();
          applyTheme();
          webApp.MainButton.setText('–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑').onClick(()=> openCartModal()).hide();
          webApp.BackButton.onClick(()=>{
            const pm = document.getElementById('product-modal');
            const cm = document.getElementById('cart-modal');
            if(cm.open) closeCartModal();
            else if(pm.open) closeProductModal();
          });
        } else {
          applyTheme();
        }
      }

      function applyTheme(){
        // –≤—Å—ë –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
      }

      function setupEventListeners(){
        el('search-input').addEventListener('input', filterAndRender);
        el('category-filter').addEventListener('change', filterAndRender);
        el('only-cheese-checkbox').addEventListener('change', filterAndRender);
        el('only-fav-checkbox').addEventListener('change', filterAndRender);
        el('open-cart-btn').addEventListener('click', openCartModal);

        el('add-to-cart-btn').addEventListener('click', addToCart);
        el('product-variant-select').addEventListener('change', updateProductModalPrice);
        el('product-qty-input').addEventListener('input', updateProductModalPrice);
        el('custom-weight-checkbox').addEventListener('change', handleCustomWeightToggle);
        el('product-custom-weight').addEventListener('input', updateProductModalPrice);
      }

      function renderUserProfile(){
        const box = el('user-profile');
        const ua = window.Telegram?.WebApp?.initDataUnsafe?.user;
        if(ua){
          const initial = (ua.first_name || ua.username || 'U').charAt(0).toUpperCase();
          box.innerHTML = `
            <div class="user-avatar">
              ${ua.photo_url ? `<img src="${ua.photo_url}" alt="avatar" onerror="this.remove()">` : `<span>${initial}</span>`}
            </div>
            <div class="user-name">${ua.first_name || ''}</div>`;
        } else {
          box.style.display='none';
        }
      }

      function populateCategoryFilter(){
        const select = el('category-filter');
        GROUPS.forEach(g=>{
          const o = document.createElement('option');
          o.value = g.id;
          o.textContent = g.title;
          select.appendChild(o);
        });
      }

      function filterAndRender(){
        const term = el('search-input').value.trim().toLowerCase();
        const groupSel = el('category-filter').value;
        const onlyCheese = el('only-cheese-checkbox').checked;
        const onlyFav = el('only-fav-checkbox').checked;

        filteredProducts = PRODUCTS.filter(p=>{
          const inTerm   = !term || p.name.toLowerCase().includes(term);
          const inGroup  = !groupSel || p.group === groupSel;
          const inCheese = !onlyCheese || CHEESE_GROUP_IDS.has(p.group);
          const inFav    = !onlyFav || favorites.has(p.id);
          return hasPrice(p) && inTerm && inGroup && inCheese && inFav;
        });

        const showSections = term==='' && !groupSel && !onlyCheese && !onlyFav;
        renderMain(showSections);
      }

      function renderMain(showSections){
        const main = el('main');
        main.innerHTML = '';
        if(!filteredProducts.length){
          main.innerHTML = '<p class="empty">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>';
          return;
        }

        if(showSections){
          GROUPS.forEach(g=>{
            const items = filteredProducts.filter(p=>p.group === g.id);
            if(!items.length) return;
            const section = document.createElement('section');
            section.className = 'section';
            section.innerHTML = `<div class="section-title"><span class="section-pill">${g.title}</span></div>`;
            const grid = document.createElement('div');
            grid.className = 'product-grid';
            items.forEach(p=> grid.appendChild(productCard(p)));
            section.appendChild(grid);
            main.appendChild(section);
          });
        } else {
          const grid = document.createElement('div');
          grid.className = 'product-grid';
          filteredProducts.forEach(p=> grid.appendChild(productCard(p)));
          main.appendChild(grid);
        }
      }

      function productCard(p){
        const card = document.createElement('div');
        card.className = 'product-card';
        card.onclick = (e)=>{
          if(e.target.closest('.fav-btn')) return;
          openProductModal(p.id);
        };

        const priceText = getPriceText(p);
        const approx = approxPieceBadgeText(p);
        const favActive = favorites.has(p.id) ? 'active' : '';

        card.innerHTML = `
          <div class="product-thumb">
            <img src="${p.img || DEFAULT_IMG}"
                 alt="${escapeHtml(p.name)}"
                 onerror="this.src='${DEFAULT_IMG}'">
          </div>
          <div class="name">${p.name}</div>
          <div class="product-row">
            <div class="price">${priceText}</div>
            ${approx ? `<div class="badge-piece">${approx}</div>` : ''}
            <button class="fav-btn ${favActive}" title="–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
              onclick="event.stopPropagation(); window.toggleFavorite && window.toggleFavorite('${p.id}')">
              ${favActive ? '‚ô•' : '‚ô°'}
            </button>
          </div>`;

        return card;
      }

      window.toggleFavorite = toggleFavorite;

      function refreshFavoritesBar(){
        const bar = el('favorites-bar');
        bar.innerHTML = '';
        if(!favorites.size){
          bar.style.display='none';
          return;
        }
        bar.style.display='flex';
        [...favorites].forEach(id=>{
          const p = PRODUCTS.find(x=>x.id===id);
          if(!p) return;
          const chip = document.createElement('button');
          chip.type='button';
          chip.className='fav-chip';
          chip.textContent=p.name;
          chip.onclick = ()=> openProductModal(id);
          bar.appendChild(chip);
        });
      }

      function toggleFavorite(id){
        if(favorites.has(id)) favorites.delete(id);
        else favorites.add(id);
        saveState();
        refreshFavoritesBar();
        filterAndRender();
      }

      function openProductModal(productId){
        currentProduct = PRODUCTS.find(p=>p.id===productId);
        if(!currentProduct) return;

        resetCustomWeightControls();

        el('product-modal-title').textContent = currentProduct.name;
        el('product-modal-description').textContent = currentProduct.description || '';

        renderVariantSelector();
        renderFlavorSelector();
        updateVariantHint();
        updateProductModalPrice();

        const cwBlock = el('custom-weight-block');
        if(currentProduct.pricePerKg) cwBlock.style.display='block';
        else cwBlock.style.display='none';

        el('product-modal').showModal();
        window.Telegram?.WebApp?.BackButton.show?.();
      }

      function closeProductModal(){
        el('product-modal').close();
        currentProduct = null;
        window.Telegram?.WebApp?.BackButton.hide?.();
      }

      function renderVariantSelector(){
        const select = el('product-variant-select');
        select.innerHTML = '';
        const pieceBadge = el('piece-badge');
        pieceBadge.style.display='none';

        const rule = VARIANT_RULES[currentProduct.id];

        if(rule){
          if(rule.type === 'fixed'){
            rule.options.forEach(opt=>{
              const o = document.createElement('option');
              o.value = opt;
              o.textContent = opt;
              select.appendChild(o);
            });
          } else if(rule.type === 'weight'){
            for(let g=rule.min; g<=rule.max; g+=rule.step){
              const o = document.createElement('option');
              o.value = `${g} ${rule.unit}`;
              o.textContent = `${g} ${rule.unit}`;
              select.appendChild(o);
            }
          }
        } else {
          if(currentProduct.pricePerKg){
            [200,300,500,1000].forEach(g=>{
              const o = document.createElement('option');
              o.value = `${g} –≥`;
              o.textContent = `${g} –≥`;
              select.appendChild(o);
            });
          } else if(currentProduct.pricePerL){
            [0.5,1].forEach(l=>{
              const o = document.createElement('option');
              o.value = `${l} –ª`;
              o.textContent = `${l} –ª`;
              select.appendChild(o);
            });
          } else if(currentProduct.pricePerUnit){
            const o = document.createElement('option');
            o.value = '1 —à—Ç';
            o.textContent = '1 —à—Ç';
            select.appendChild(o);
          }
        }

        const approx = approxPieceBadgeText(currentProduct);
        if(approx){
          pieceBadge.textContent = approx;
          pieceBadge.style.display='block';
        }

        el('product-qty-input').value = 1;
      }

      function renderFlavorSelector(){
        const groupEl = el('flavor-group');
        const selectEl = el('product-flavor-select');
        if(currentProduct && Array.isArray(currentProduct.flavors) && currentProduct.flavors.length){
          groupEl.style.display='block';
          selectEl.innerHTML='';
          currentProduct.flavors.forEach(fl=>{
            const o = document.createElement('option');
            o.value = fl;
            o.textContent = fl;
            selectEl.appendChild(o);
          });
        } else {
          groupEl.style.display='none';
          if(selectEl) selectEl.innerHTML='';
        }
      }

      function resetCustomWeightControls(){
        const cb = el('custom-weight-checkbox');
        const wrap = el('custom-weight-input-wrap');
        const input = el('product-custom-weight');
        cb.checked = false;
        wrap.classList.remove('enabled');
        input.disabled = true;
        input.value = '';
      }

      function handleCustomWeightToggle(){
        if(!currentProduct || !currentProduct.pricePerKg){
          this.checked = false;
          return;
        }
        const wrap = el('custom-weight-input-wrap');
        const input = el('product-custom-weight');
        if(this.checked){
          wrap.classList.add('enabled');
          input.disabled = false;
          if(!input.value){
            let grams = 0;
            const rule = VARIANT_RULES[currentProduct.id];
            const variantVal = el('product-variant-select').value;
            grams = extractGrams(variantVal);
            if(!grams){
              if(rule && rule.type==='weight') grams = rule.min;
              else if(currentProduct.pieceWeightGrams) grams = currentProduct.pieceWeightGrams;
              else grams = 200;
            }
            input.value = grams;
          }
          input.focus();
        } else {
          wrap.classList.remove('enabled');
          input.disabled = true;
        }
        updateProductModalPrice();
      }

      function updateVariantHint(){
        const hintEl = el('variant-hint');
        if(!hintEl || !currentProduct) return;
        let text = '';
        const rule = VARIANT_RULES[currentProduct.id];
        if(currentProduct.pricePerKg){
          if(rule && rule.type === 'weight'){
            text = '–®–∞–≥ 50 –≥ –≤ —Å–ø–∏—Å–∫–µ. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–π —Å–≤–æ–π –≤–µ—Å ‚Äî —Ü–µ–Ω–∞ –∏ —Å–∫–∏–¥–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.';
          } else if(currentProduct.pieceWeightRangeText){
            text = `–í–µ—Å –æ–¥–Ω–æ–π —à—Ç—É–∫–∏ –æ–±—ã—á–Ω–æ ${currentProduct.pieceWeightRangeText}. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π –≤–µ—Å.`;
          } else if(currentProduct.pieceWeightGrams){
            text = `–í–µ—Å –æ–¥–Ω–æ–π —à—Ç—É–∫–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ ${currentProduct.pieceWeightGrams} –≥. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π –≤–µ—Å.`;
          } else {
            text = '–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π –≤–µ—Å –≤ –≥—Ä–∞–º–º–∞—Ö ‚Äî –ø–æ—Å—á–∏—Ç–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –ª—é–±–æ–π –≤–µ—Å.';
          }
        } else if(currentProduct.pricePerL){
          text = '–û–±—ä—ë–º –≤ –ª–∏—Ç—Ä–∞—Ö. –î–ª—è –º–æ–ª–æ—á–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤ —Å–≤–æ–π –æ–±—ä—ë–º –Ω–µ –≤—ã–±–∏—Ä–∞–µ–º.';
        }
        hintEl.textContent = text;
      }

      function getSelectedVariantAndQty(){
        const qty = Math.max(1, parseInt(el('product-qty-input').value,10) || 1);
        let variant = el('product-variant-select').value || '';
        const canCustom = currentProduct && currentProduct.pricePerKg;
        const useCustom = canCustom && el('custom-weight-checkbox').checked;
        if(useCustom){
          const grams = Math.max(1, parseInt(el('product-custom-weight').value,10) || 0);
          if(grams>0){
            variant = `${grams} –≥ (—Å–≤–æ–π –≤–µ—Å)`;
          }
        }
        return { variant, qty };
      }

      function updateProductModalPrice(){
        if(!currentProduct) return;
        const { variant, qty } = getSelectedVariantAndQty();
        const { finalPrice } = calculatePrice(currentProduct.id, variant, qty);
        el('product-modal-price').textContent = fmtRub(finalPrice);
      }

      function addToCart(){
        if(!currentProduct) return;
        const { variant, qty } = getSelectedVariantAndQty();
        let fullVariant = variant;
        const flavorWrap = el('flavor-group');
        const flavorSelect = el('product-flavor-select');
        if(flavorWrap && flavorWrap.style.display !== 'none' && flavorSelect && flavorSelect.value){
          fullVariant = `${variant} ¬∑ –≤–∫—É—Å: ${flavorSelect.value}`;
        }

        const idx = cart.findIndex(i=> i.id===currentProduct.id && i.variant===fullVariant);
        if(idx>-1){
          cart[idx].qty += qty;
        } else {
          cart.push({ id:currentProduct.id, name:currentProduct.name, group:currentProduct.group, variant:fullVariant, qty });
        }

        saveState();
        updateCartUI();
        closeProductModal();
        window.Telegram?.WebApp?.HapticFeedback?.impactOccurred?.('medium');
      }

      function updateCartUI(){
        const totalCount = cart.reduce((s,i)=> s+i.qty, 0);
        const totalSum = cart.reduce((s,i)=> s+calculatePrice(i.id,i.variant,i.qty).finalPrice, 0);
        const btn = el('open-cart-btn');
        if(cart.length){
          btn.disabled = false;
          btn.textContent = `–ö–æ—Ä–∑–∏–Ω–∞ (${totalCount}) ‚Äî ${fmtRub(totalSum)}`;
          window.Telegram?.WebApp?.MainButton.show?.();
        } else {
          btn.disabled = true;
          btn.textContent = '–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞';
          window.Telegram?.WebApp?.MainButton.hide?.();
        }
      }

      function openCartModal(){
        renderCartModal();
        el('cart-modal').showModal();
        window.Telegram?.WebApp?.BackButton.show?.();
      }

      function closeCartModal(){
        el('cart-modal').close();
        window.Telegram?.WebApp?.BackButton.hide?.();
      }

      function renderCartModal(){
        const body = el('cart-modal-body');
        body.innerHTML = '';
        if(!cart.length){
          body.innerHTML = '<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
          return;
        }

        let total = 0;
        cart.forEach((item,idx)=>{
          const price = calculatePrice(item.id,item.variant,item.qty);
          total += price.finalPrice;
          const rate = getDiscountRateForProduct(item.id);
          const hint = rate>0 ? `<div class="discount-hint">–°–∫–∏–¥–∫–∞ ${Math.round(rate*100)}% –ø—Ä–∏–º–µ–Ω–µ–Ω–∞</div>` : '';

          const row = document.createElement('div');
          row.className = 'cart-item';
          row.innerHTML = `
            <div class="cart-item-info">
              <div class="cart-item-name">${item.name}</div>
              <div class="cart-item-variant">${escapeHtml(item.variant)}</div>
              <div class="cart-item-price">${fmtRub(price.finalPrice)}</div>
              ${hint}
            </div>
            <div class="cart-item-controls">
              <div class="qty-control">
                <button type="button" onclick="window.changeItemQty && window.changeItemQty(${idx},-1)">‚àí</button>
                <span>${item.qty}</span>
                <button type="button" onclick="window.changeItemQty && window.changeItemQty(${idx},1)">+</button>
              </div>
            </div>`;
          body.appendChild(row);
        });

        const summary = document.createElement('div');
        summary.className = 'cart-summary';
        summary.innerHTML = `
          <div>–ò—Ç–æ–≥–æ: ${fmtRub(total)}</div>
          <div class="promo-block">
            <label for="checkout-promo">–ü—Ä–æ–º–æ–∫–æ–¥</label>
            <input id="checkout-promo" placeholder="–ï—Å–ª–∏ –µ—Å—Ç—å" />
            <div class="notice">–ü—Ä–æ–º–æ–∫–æ–¥—ã –ª—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –Ω–æ –º–æ–∂–Ω–æ –∏ –≤ –∫–æ–¥–µ (—Å–º. PROMO_CODES).</div>
          </div>`;
        body.appendChild(summary);

        const checkout = document.createElement('div');
        checkout.innerHTML = `
          <div class="section-title small"><span class="section-pill">–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –¥–æ—Å—Ç–∞–≤–∫–∞</span></div>
          <div class="form-group">
            <label for="checkout-city">–ì–æ—Ä–æ–¥</label>
            <select id="checkout-city">
              <option value="–ü–µ–Ω–∑–∞">–ü–µ–Ω–∑–∞</option>
              <option value="–ú–æ—Å–∫–≤–∞">–ú–æ—Å–∫–≤–∞</option>
            </select>
          </div>
          <div class="form-group">
            <label for="checkout-phone">–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏</label>
            <input type="tel" id="checkout-phone" inputmode="tel" placeholder="+7 999 999-99-99" />
            <div class="notice">–§–æ—Ä–º–∞—Ç –ª—é–±–æ–π: 8999..., +7..., –ø—Ä–æ–±–µ–ª—ã/—Å–∫–æ–±–∫–∏ –Ω–µ –≤–∞–∂–Ω—ã ‚Äî –ø—Ä–∏–≤–µ–¥—ë–º –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É.</div>
          </div>
          <div class="form-group">
            <label for="checkout-address">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
            <textarea id="checkout-address" rows="3" placeholder="–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –ø–æ–¥—ä–µ–∑–¥/—ç—Ç–∞–∂/–∫–≤."></textarea>
          </div>
          <div class="form-group">
            <label for="checkout-comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É</label>
            <textarea id="checkout-comment" rows="3" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø–æ–∑–≤–æ–Ω–∏—Ç—å –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç–∞–≤–∫–æ–π, –±–µ–∑ —á–µ—Å–Ω–æ–∫–∞ –∏ —Ç.–ø."></textarea>
          </div>
          <div id="checkout-errors" class="error-text" style="display:none"></div>
        `;
        body.appendChild(checkout);

        el('checkout-phone').value   = checkoutState.phone   || '';
        el('checkout-address').value= checkoutState.address || '';
        el('checkout-comment').value= checkoutState.comment || '';
        el('checkout-promo').value  = checkoutState.promo   || '';
        el('checkout-city').value   = checkoutState.city    || '–ü–µ–Ω–∑–∞';

        el('checkout-phone').addEventListener('input',()=>{ checkoutState.phone = el('checkout-phone').value; saveState(); });
        el('checkout-address').addEventListener('input',()=>{ checkoutState.address = el('checkout-address').value; saveState(); });
        el('checkout-comment').addEventListener('input',()=>{ checkoutState.comment = el('checkout-comment').value; saveState(); });
        el('checkout-promo').addEventListener('input',()=>{ checkoutState.promo = el('checkout-promo').value.trim(); saveState(); });
        el('checkout-city').addEventListener('change',()=>{ checkoutState.city = el('checkout-city').value; saveState(); });

        const sendBtn = document.createElement('button');
        sendBtn.type='button';
        sendBtn.className='btn btn-primary';
        sendBtn.textContent='–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑';
        sendBtn.onclick = sendOrder;
        body.appendChild(sendBtn);

        if(hasCheeseInCart()){
          const note = document.createElement('div');
          note.className='weighing-note';
          note.textContent='–ö–æ–Ω–µ—á–Ω–∞—è —Å—É–º–º–∞ –ø–æ —Å—ã—Ä–∞–º —É—Ç–æ—á–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è –≤ –¥–µ–Ω—å –¥–æ—Å—Ç–∞–≤–∫–∏.';
          body.appendChild(note);
        }
      }

      function changeItemQty(index,delta){
        if(!cart[index]) return;
        cart[index].qty += delta;
        if(cart[index].qty<=0) cart.splice(index,1);
        saveState();
        updateCartUI();
        renderCartModal();
      }
      window.changeItemQty = changeItemQty;

      function hasPrice(p){
        return !!(p.pricePerKg || p.pricePerL || p.pricePerUnit);
      }

      function getPriceText(p){
        if(p.pricePerKg) return `${fmtRub(p.pricePerKg)} / –∫–≥`;
        if(p.pricePerL)  return `${fmtRub(p.pricePerL)} / –ª`;
        if(p.pricePerUnit) return `${fmtRub(p.pricePerUnit)}`;
        return '–¶–µ–Ω–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞';
      }

      function approxPieceBadgeText(p){
        if(!p || !p.pricePerKg || !p.pieceWeightGrams) return '';
        const approx = Math.round(p.pricePerKg * p.pieceWeightGrams / 1000);
        const range = p.pieceWeightRangeText ? ` (${p.pieceWeightRangeText})` : '';
        return `‚âà ${fmtRub(approx)} –∑–∞ 1 —à—Ç${range}`;
      }

      function extractGrams(variant){
        const m = (variant||'').match(/(?:\(|^|\s)[~¬±‚âà]?\s*(\d+(?:\.\d+)?)\s*(–≥|–∫–≥)/i);
        if(!m) return 0;
        const val = parseFloat(m[1]);
        const unit = m[2].toLowerCase();
        return unit==='–∫–≥' ? val*1000 : val;
      }

      function extractLiters(variant){
        const m = (variant||'').match(/(\d+(?:\.\d+)?)\s*–ª/i);
        return m ? parseFloat(m[1]) : 0;
      }

      function calculatePrice(productId, variant, qty){
        const p = PRODUCTS.find(x=>x.id===productId);
        if(!p) return { basePrice:0, finalPrice:0, discountRate:0 };
        let base = 0;

        if(p.pricePerKg){
          const grams = extractGrams(variant) || 0;
          base = (grams>0 ? (grams/1000)*p.pricePerKg : p.pricePerKg) * qty;
        } else if(p.pricePerL){
          const liters = extractLiters(variant) || 1;
          base = liters * p.pricePerL * qty;
        } else if(p.pricePerUnit){
          base = p.pricePerUnit * qty;
        }

        const discountRate = getDiscountRateForProduct(productId);
        const discounted = base * (1 - discountRate);
        return { basePrice:ROUND(base), finalPrice:ROUND(discounted), discountRate };
      }

      function getDiscountRateForProduct(productId){
        const prod = PRODUCTS.find(p=>p.id===productId);
        if(!prod || !CHEESE_GROUP_IDS.has(prod.group)) return 0;
        const totalGr = cart
          .filter(i=> i.id===productId)
          .reduce((sum,i)=> sum + (extractGrams(i.variant)||0)*i.qty, 0);
        let rate = 0;
        for(const t of DISCOUNT_THRESHOLDS){
          if(totalGr >= t.g) rate = t.rate;
        }
        return rate;
      }

      function hasCheeseInCart(){
        return cart.some(i=>{
          const p = PRODUCTS.find(x=>x.id===i.id);
          return p && CHEESE_GROUP_IDS.has(p.group);
        });
      }

      function normalizePhone(input){
        if(!input) return '';
        const digits = String(input).replace(/\D+/g,'');
        if(digits.length===11 && (digits.startsWith('7') || digits.startsWith('8'))) return '+7'+digits.slice(1);
        if(digits.length===10) return '+7'+digits;
        if(String(input).trim().startsWith('+')) return '+'+digits;
        return digits ? '+'+digits : '';
      }

      function getCheckoutData(){
        const phoneRaw = (el('checkout-phone').value || '').trim();
        const phone    = normalizePhone(phoneRaw);
        const address  = (el('checkout-address').value || '').trim();
        const comment  = (el('checkout-comment').value || '').trim();
        const promo    = (el('checkout-promo').value || '').trim().toUpperCase();
        const city     = (el('checkout-city').value || '–ü–µ–Ω–∑–∞');

        checkoutState = { phone:phoneRaw, address, comment, promo, city };
        saveState();

        return { phoneRaw, phone, address, comment, promo, city };
      }

      function validateCheckout(data){
        const errs = [];
        if(!data.phone) errs.push('–£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏.');
        if(!data.address || data.address.length<5) errs.push('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏.');
        if(!data.city) errs.push('–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏.');
        return errs;
      }

      function showCheckoutErrors(errors){
        const box = el('checkout-errors');
        if(!errors || !errors.length){
          box.style.display='none';
          box.textContent='';
          return;
        }
        box.style.display='block';
        box.textContent = errors.join(' ');
      }

      function applyPromo(total, code){
        if(!code) return { total, applied:null };
        const promo = PROMO_CODES[code];
        if(!promo) return { total, applied:null };
        let newTotal = total;
        if(promo.type==='percent') newTotal = total*(1 - promo.value/100);
        if(promo.type==='fixed')   newTotal = Math.max(0, total - promo.value);
        return { total:ROUND(newTotal), applied:promo };
      }

      function sendOrder(){
        if(!cart.length) return;
        const contact = getCheckoutData();
        const errors  = validateCheckout(contact);
        if(errors.length){
          showCheckoutErrors(errors);
          window.Telegram?.WebApp?.HapticFeedback?.notificationOccurred?.('error');
          return;
        }
        showCheckoutErrors([]);

        const payload = {
          type:'cart',
          source:'miniapp',
          currency:CURRENCY,
          items:[],
          total:0,
          contact:{
            phone:contact.phone,
            phone_raw:contact.phoneRaw,
            address:contact.address,
            comment:contact.comment,
            promo:contact.promo,
            city:contact.city,
          },
          meta:{ ts:Date.now(), schema_ver:PAYLOAD_SCHEMA_VERSION }
        };

        let grand = 0;
        cart.forEach(i=>{
          const price = calculatePrice(i.id,i.variant,i.qty);
          grand += price.finalPrice;
          payload.items.push({
            id:i.id,
            name:i.name,
            group:i.group,
            variant:i.variant,
            qty:i.qty,
            unit_price_base: price.basePrice/Math.max(i.qty,1),
            discount_rate:   price.discountRate,
            unit_price:      price.finalPrice/Math.max(i.qty,1),
            line_total:      price.finalPrice,
          });
        });

        const promoRes = applyPromo(grand, contact.promo);
        payload.total = promoRes.total;
        if(promoRes.applied) payload.promo_applied = promoRes.applied;

        if(window.Telegram?.WebApp){
          const tg = window.Telegram.WebApp;
          payload.telegram = { platform:tg.platform, init_data:!!tg.initData };
          const u = tg.initDataUnsafe?.user;
          if(u){
            payload.telegram.user = {
              id:u.id,
              username:u.username,
              first_name:u.first_name,
              last_name:u.last_name
            };
          }
        }

        if(typeof axios === 'undefined'){
          console.log('ORDER PAYLOAD', payload);
          alert('axios –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω, –∑–∞–∫–∞–∑ –≤—ã–≤–µ–¥–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª—å.');
          return;
        }

        axios.post(`${BACKEND}/order`, payload)
          .then(()=>{
            window.Telegram?.WebApp?.showAlert?.('–°–ø–∞—Å–∏–±–æ! –í–∞—à –∑–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç. –ú—ã —Å–≤—è–∂–µ–º—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.');
            window.Telegram?.WebApp?.HapticFeedback?.notificationOccurred?.('success');
            cart = [];
            saveState();
            updateCartUI();
            closeCartModal();
            window.Telegram?.WebApp?.close?.();
          })
          .catch(()=>{
            window.Telegram?.WebApp?.showAlert?.('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.');
            window.Telegram?.WebApp?.HapticFeedback?.notificationOccurred?.('error');
          });
      }

      function el(id){ return document.getElementById(id); }

      function escapeHtml(str){
        return String(str||'').replace(/[&<>\"']/g, m=>({
          '&':'&amp;',
          '<':'&lt;',
          '>':'&gt;',
          '"':'&quot;',
          "'":'&#39;'
        }[m]));
      }

    })();
  </script>
</body>
</html>
